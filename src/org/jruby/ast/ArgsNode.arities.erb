    public void prepare(ThreadContext context, Ruby runtime, IRubyObject self <%= n_args_in %>, Block block) {
        DynamicScope scope = context.getCurrentScope();

        if (isSimple) {
            scope.setArgValues(<%= n_args_out_bare %>);
        } else {
            prepare(context, runtime, self <%= n_args_ary %>, block);
        }
        if (getBlock() != null) processBlockArg(scope, runtime, block);
    }
